function PickleCalendarRowSetup(){jQuery(".pickle-calendar-event.multiday").each(function(){jQuery(this).pcEventOffset()})}function pcShowAJAXLoader(e){var t=jQuery("<div/>",{class:"pc-loader-image-container"}).appendTo(e).show();jQuery("<img/>",{src:pickleCalOpts.pluginURL+"images/ajax-loader.gif",class:"pc-loader-image"}).appendTo(t)}function pcHideAJAXLoader(){jQuery(".pc-loader-image-container").remove()}jQuery(document).ready(function(l){l("body").on("click",".pickle-calendar .cal-nav",function(e){e.preventDefault();var t={action:"bscal_nav",month:l(this).data("month"),year:l(this).data("year")};pcShowAJAXLoader(".pickle-calendar"),l.post(pickleCalOpts.ajax_url,t,function(e){var t=l(".pickle-calendar").parent();t.html(""),t.append(e),l(document).trigger("pickle_calendar_ajax_load",e),PickleCalendarRowSetup(),pcalEqualHeight(".pickle-calendar .calendar-day")})}),l("body").on("change",".pickle-calendar-filters .filter-term",function(e){var t=l(this).parents(".pickle-calendar-filters"),n=t.data("filters").split(",");if(this.checked)n.push(l(this).val());else{var a=n.indexOf(l(this).val());-1<a&&n.splice(a,1)}n=n.filter(function(e){return""!==e}),t.data("filters",n.join()),l(".pickle-calendar .pickle-calendar-event").each(function(e){var t=l(this).attr("class").split(" "),a=0;if(0===n.length)l(this).removeClass("filter-hide");else{for(var i=0;i<n.length;i++)for(var r=0;r<t.length;r++)n[i]==t[r]&&a++;0===a?l(this).addClass("filter-hide"):l(this).removeClass("filter-hide")}})}),l("body").on("click",".pickle-calendar-filters .filter-tab",function(e){e.preventDefault();var r=l(this).data("tabSlug");l(".pickle-calendar-filters .filter-tab").each(function(){l(this).removeClass("active")}),l(this).addClass("active"),"all"==r&&(r=""),l(".pickle-calendar .pickle-calendar-event").each(function(e){var t=l(this).attr("class").split(" "),a=0;if(0===r.length)l(this).removeClass("filter-hide");else{for(var i=0;i<t.length;i++)r==t[i]&&a++;0===a?l(this).addClass("filter-hide"):l(this).removeClass("filter-hide")}})})}),jQuery(window).load(function(){PickleCalendarRowSetup(),pcalEqualHeight(".pickle-calendar .calendar-day")}),jQuery(window).resize(function(){PickleCalendarRowSetup(),pcalEqualHeight(".pickle-calendar .calendar-day")}),function(n){pcalEqualHeight=function(e){var t,a=0,i=0,r=[];n(e).each(function(){if(t=n(this),n(t).height("auto"),topPostion=t.position().top,i!=topPostion){for(currentDiv=0;currentDiv<r.length;currentDiv++)r[currentDiv].height(a);r.length=0,i=topPostion,a=t.height(),r.push(t)}else r.push(t),a=a<t.height()?t.height():a;for(currentDiv=0;currentDiv<r.length;currentDiv++)r[currentDiv].height(a)})},n.fn.pcEventOffset=function(){var e=jQuery(this).offset(),t=(new Date(jQuery(this).data("eventDate")+"T00:00:00"),new Date(jQuery(this).data("eventDate")+"T00:00:00")),a=!1,i=jQuery(this).parents(".calendar-day");t.setDate(t.getDate()-1),i.hasClass("first-of-week")&&(a=!0),i.hasClass("last-of-week");var r=new Date(t),n=("0"+r.getDate()).slice(-2),l=("0"+(r.getMonth()+1)).slice(-2),c=r.getFullYear()+"-"+l+"-"+n,s=jQuery(".pickle-calendar").find(".pickle-calendar-event[data-event-date='"+c+"'][data-event-id='"+jQuery(this).data("eventId")+"']");!0!==a&&void 0!==s.offset()&&s.offset().top!=e.top&&(jQuery(this).css({"margin-top":s.offset().top-e.top}),s.offset().top!=jQuery(this).offset().top&&jQuery(this).css({"margin-top":parseInt(jQuery(this).css("margin-top"))+(s.offset().top-jQuery(this).offset().top)}))}}(jQuery);